<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link rel="stylesheet" href="css/style.css" />
    <script src="js/all.js"></script>


          <script>
        $(function() {
            setupLanguages(["bash","javascript"]);
        });
      </script>
      </head>

  <body class="">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <img src="images/logo.png" />
                    <div class="lang-selector">
                                  <a href="#" data-language-name="bash">bash</a>
                                  <a href="#" data-language-name="javascript">javascript</a>
                            </div>
                            <div class="search">
              <input type="text" class="search" id="input-search" placeholder="Search">
            </div>
            <ul class="search-results"></ul>
              <div id="toc">
      </div>
            </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
          <h1>Change log</h1>
<aside class="notice">
HEAD UP! new changes to API will be here as reference.
</aside>
<ul>
<li>Add car types.</li>
<li>Add new fcm code for driver (approved and disapproved).</li>
<li>Add client and driver states (province).</li>
<li>Add car type to trip request.</li>
<li>Add calculate ver. 3 and nearby ver. 3</li>
<li>Add pusher</li>
<li>Add contact to call center</li>
<li>Add states to the client registration</li>
<li>Remove 'ar' from lang param in client and driver registration</li>
<li>Add register, payment and logout flow chart</li>
<li>Add FCM keys</li>
<li>Add angle to nearby and <code>client/trip</code> routes. angle starts from 6 o'clock in counter clockwise</li>
<li>Income route for driver</li>
<li>created_at and updated_at property removed from client and driver profile</li>
<li>History order fixed (desc)</li>
<li>Payment updated</li>
<li>Payment with card removed</li>
<li>Add trip status on driver set location</li>
<li>Added payment GET route</li>
<li><code>d2_lat</code> and <code>d2_long</code> added to <code>v1/client/trip</code></li>
<li>Add payment type to <code>v1/client/trip</code></li>
<li>Trip ID added to GET <code>client/trip</code> API</li>
<li>pended trip list removed from request API</li>
<li>New FCM states for payments</li>
<li>Payment type and status added to current trip API</li>
</ul>
<h1>Change language</h1>
<p><img src="https://image.ibb.co/cDZJO5/Change_Language.png" alt="Image of change language" /></p>
<h2>Client</h2>
<p>Change language for client</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/lang/{lang}" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/lang/{lang}",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "Authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/lang/{lang}</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lang</td>
<td>string</td>
<td>required</td>
<td>Must be 'fa' or 'en'</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Success",
            "detail": "Language changed successfully."
        }
    ]
}</code></pre>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "موفق",
            "detail": "زبان با موفقیت تغییر کرد."
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation error(s)</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Failed",
            "detail": "Changing language failed."
        }
    ]
}</code></pre>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "ناموفق",
            "detail": "تغییر زبان ناموفق بود."
        }
    ]
}</code></pre>
<h2>Driver</h2>
<p>Change language for driver</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/lang/{lang}" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/lang/{lang}",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "Authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/lang/{lang}</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lang</td>
<td>string</td>
<td>required</td>
<td>Must be 'fa' or 'en'</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Success",
            "detail": "Language changed successfully."
        }
    ]
}</code></pre>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "موفق",
            "detail": "زبان با موفقیت تغییر کرد."
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation error(s)</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Failed",
            "detail": "Changing language failed."
        }
    ]
}</code></pre>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "ناموفق",
            "detail": "تغییر زبان ناموفق بود."
        }
    ]
}</code></pre>
<h1>Contact</h1>
<h2>Client</h2>
<p>contact to call center.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/contact" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/contact",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "Authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/contact</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "head": {
                "phone": "۰۲۱۵۵۵۹۸۷۶۱\r\n۰۹۱۳۱۲۳۴۵۵۴\r\n۰۹۱۳۱۲۳۴۵۵۴\r\n۰۹۱۳۱۲۳۴۵۵۴",
                "address": "خیابان چهارباغ بالا، کوچه نگار، ساختمان، پلاک ۱۰۵"
            },
            "branch": {}
        }
    ]
}</code></pre>
<h2>Driver</h2>
<p>contact to call center.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/contact" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/contact",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "Authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/contact</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "head": {
                "phone": "۰۲۱۵۵۵۹۸۷۶۱\r\n۰۹۱۳۱۲۳۴۵۵۴\r\n۰۹۱۳۱۲۳۴۵۵۴\r\n۰۹۱۳۱۲۳۴۵۵۴",
                "address": "خیابان چهارباغ بالا، کوچه نگار، ساختمان، پلاک ۱۰۵"
            },
            "branch": {}
        }
    ]
}</code></pre>
<h1>Register</h1>
<p><img src="http://1.1m.yt/_R4OUR7.png" alt="Image of registration" /></p>
<h2>Client</h2>
<p>Initial step for client to register, using phone no. as the primary param
for login and validation.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/register" \
-H "Accept: application/json" \
    -d "phone"="sunt" \
    -d "login_by"="sunt" \
    -d "lang"="sunt" \
    -d "device_type"="sunt" \
    -d "device_token"="sunt" \
    -d "state"="sunt" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/register",
    "method": "POST",
    "data": {
        "phone": "sunt",
        "login_by": "sunt",
        "lang": "sunt",
        "device_type": "sunt",
        "device_token": "sunt",
        "state": "sunt",
},
    "headers": {
        "accept": "application/json"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/register</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>phone</td>
<td>numeric</td>
<td>required</td>
<td>Must have a length between <code>9</code> and <code>255</code></td>
</tr>
<tr>
<td>login_by</td>
<td>string</td>
<td>required</td>
<td><code>manual</code>, <code>facebook</code>, <code>google</code></td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>required</td>
<td><code>fa</code>, <code>en</code></td>
</tr>
<tr>
<td>device_type</td>
<td>string</td>
<td>required</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>device_token</td>
<td>string</td>
<td>required</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>state</td>
<td>numeric</td>
<td>required</td>
<td>Maximum: <code>255</code>, exists in states</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "token_type": "Bearer",
            "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjMwNDI2MTc1NWFiYTc0NjA2YTM3NWQzMGY5YzA2NmM4ZmU2Yjk2YTMyOTRkMWY1MmZmZGNhZGM4MWQzNTBlMjZiOGQ5MTM2MGM4MGRiZmYxIn0.eyJhdWQiOiIyOSIsImp0aSI6IjMwNDI2MTc1NWFiYTc0NjA2YTM3NWQzMGY5YzA2NmM4ZmU2Yjk2YTMyOTRkMWY1MmZmZGNhZGM4MWQzNTBlMjZiOGQ5MTM2MGM4MGRiZmYxIiwiaWF0IjoxNDgxNjE3NjkyLCJuYmYiOjE0ODE2MTc2OTIsImV4cCI6MTc5NzE1MDQ5Miwic3ViIjoiNDQwIiwic2NvcGVzIjpbXX0.rln8f7BLZ7cU2I1YBGCnrpxozhB5mVndacjIaz5zB7jfUxapguk2gx2Fdp9s5dc0628zEze7lmrIzuvBqxn4g9IwsxQhJzLfcw_oGdQN2rz0okraZS30fRspvBJ4FNDeYc4JzkCgxNWHWtIKdj0Jdl8M9IbI1hi0sq6MUh9cjODUMMLLJFb2Jx6oddYiFGBab0YTu98n7aBaJQ2h449fuxBfXlf67I5EZCoiFP20myd8JzteuZaAPQcVasvXTkejakpLLfK7y8OyKhrjti5Qytei73TmltY7NlKzTiYtRIzDTgJtPPPofOFZESha-6JxXFsAQ34--fIfYpFeUrnRHb8BJXfpaA5bzFKsRDSPUvMajlgJr2qDQhLUD9hlumBQDV881JN_V-zt_0QpI6LKOSzD2w4Gp9WQ02_Ib9Co8c57uVheX_vbSGUN2eemM5FTnP3ll9gNU6VgZOPjm8jbzLJ5ziVrxscKIbN5pjf6PSrmi7Jz1Ykl2GZoQiJHrfY5q-TWz-PpcnQu9c8_FnRKH3I9pCradOEZfaQjmMoes_AG8Wr5XyWlg-j930dhp6l5jF4KRKgprR4VMScBkVzyZAmGqdOuOjPPWM0i0uIQEnaJOcMXnjuYEsIcDkKFBo_tjKtbn1joT8W6hTo60Kt6xkjOfFCMn5IqTAwCALaPrGM",
            "expires_at": {
                "date": "2026-12-13 08:18:58.000000",
                "timezone_type": 3,
                "timezone": "UTC"
            }
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation error(s)</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h3>States</h3>
<p>To get client active States use below request.</p>
<p><code>GET api/v1/client/states</code></p>
<blockquote>
<p>Example request active States</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/states" \
-H "Accept: application/json" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/states",
    "method": "GET",
    "headers": {
        "accept": "application/json"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response States</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": "2",
            "name": "آذربایجان غربی"
        },
        {
            "id": "8",
            "name": "تهران"
        }
    ]
}</code></pre>
<h2>Driver</h2>
<p>Initial step for driver to register, using phone no. as the primary param
for login and validation.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/register" \
-H "Accept: application/json" \
    -d "phone"="eaque" \
    -d "login_by"="manual" \
    -d "lang"="eaque" \
    -d "state"="eaque" \
    -d "country"="eaque" \
    -d "device_token"="eaque" \
    -d "device_type"="eaque" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/register",
    "method": "POST",
    "data": {
        "phone": "eaque",
        "login_by": "manual",
        "lang": "manual",
        "state": "manual",
        "country": "manual",
        "device_token": "manual",
        "device_type": "manual"
},
    "headers": {
         "accept": "application/json"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "token_type": "Bearer",
            "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjMwNDI2MTc1NWFiYTc0NjA2YTM3NWQzMGY5YzA2NmM4ZmU2Yjk2YTMyOTRkMWY1MmZmZGNhZGM4MWQzNTBlMjZiOGQ5MTM2MGM4MGRiZmYxIn0.eyJhdWQiOiIyOSIsImp0aSI6IjMwNDI2MTc1NWFiYTc0NjA2YTM3NWQzMGY5YzA2NmM4ZmU2Yjk2YTMyOTRkMWY1MmZmZGNhZGM4MWQzNTBlMjZiOGQ5MTM2MGM4MGRiZmYxIiwiaWF0IjoxNDgxNjE3NjkyLCJuYmYiOjE0ODE2MTc2OTIsImV4cCI6MTc5NzE1MDQ5Miwic3ViIjoiNDQwIiwic2NvcGVzIjpbXX0.rln8f7BLZ7cU2I1YBGCnrpxozhB5mVndacjIaz5zB7jfUxapguk2gx2Fdp9s5dc0628zEze7lmrIzuvBqxn4g9IwsxQhJzLfcw_oGdQN2rz0okraZS30fRspvBJ4FNDeYc4JzkCgxNWHWtIKdj0Jdl8M9IbI1hi0sq6MUh9cjODUMMLLJFb2Jx6oddYiFGBab0YTu98n7aBaJQ2h449fuxBfXlf67I5EZCoiFP20myd8JzteuZaAPQcVasvXTkejakpLLfK7y8OyKhrjti5Qytei73TmltY7NlKzTiYtRIzDTgJtPPPofOFZESha-6JxXFsAQ34--fIfYpFeUrnRHb8BJXfpaA5bzFKsRDSPUvMajlgJr2qDQhLUD9hlumBQDV881JN_V-zt_0QpI6LKOSzD2w4Gp9WQ02_Ib9Co8c57uVheX_vbSGUN2eemM5FTnP3ll9gNU6VgZOPjm8jbzLJ5ziVrxscKIbN5pjf6PSrmi7Jz1Ykl2GZoQiJHrfY5q-TWz-PpcnQu9c8_FnRKH3I9pCradOEZfaQjmMoes_AG8Wr5XyWlg-j930dhp6l5jF4KRKgprR4VMScBkVzyZAmGqdOuOjPPWM0i0uIQEnaJOcMXnjuYEsIcDkKFBo_tjKtbn1joT8W6hTo60Kt6xkjOfFCMn5IqTAwCALaPrGM",
            "expires_at": {
                "date": "2026-12-13 08:18:58.000000",
                "timezone_type": 3,
                "timezone": "UTC"
            }
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/driver/register</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>phone</td>
<td>numeric</td>
<td>required</td>
<td>Must have a length between <code>9</code> and <code>255</code></td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>required</td>
<td><code>fa</code>, <code>en</code></td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>required</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>required</td>
<td>numeric</td>
</tr>
<tr>
<td>device_token</td>
<td>string</td>
<td>required</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>device_type</td>
<td>string</td>
<td>required</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>login_by</td>
<td>string</td>
<td>required</td>
<td><code>manual</code></td>
</tr>
</tbody>
</table>
<h3>States</h3>
<p>Get active states.</p>
<p><code>GET api/v1/driver/states</code></p>
<blockquote>
<p>Example request active States</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/states" \
-H "Accept: application/json" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/states",
    "method": "GET",
    "headers": {
        "accept": "application/json"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response States</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": "2",
            "name": "آذربایجان غربی"
        },
        {
            "id": "8",
            "name": "تهران"
        }
    ]
}</code></pre>
<h1>Verify</h1>
<h2>Clinet</h2>
<p>Verify registered client</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/verify" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "code"="55555" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/verify",
    "method": "POST",
    "data": {
        "code": "amet",
},
    "headers": {
         "accept": "application/json",
         "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/verify</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>numeric</td>
<td>required</td>
<td>length of code: <code>5</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "content": "Phone verified successfully"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Already verified</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You are already verified",
            "detail": "You are verified, there is no need for verify again.",
            "code": 500
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Expired verification code</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Please ask for verification again",
            "detail": "There is no active code for verifying this phone number.",
            "code": 404
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Wrong code</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Wrong code",
            "detail": "You have entered wrong verification code, please check your code again.",
            "code": 404
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Too many attemps</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Exceed attempts tries",
            "detail": "You've entered verification code wrong for too many times.",
            "code": 500
        }
    ]
}</code></pre>
<h2>Driver</h2>
<p>Verify registered driver</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/verify" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "code"="eaque" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/verify",
    "method": "POST",
    "data": {
        "code": "amet",
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/driver/verify</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>numeric</td>
<td>required</td>
<td>length of code: <code>5</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "content": "Phone verified successfully"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Already verified</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You are already verified",
            "detail": "You are verified, there is no need for verify again.",
            "code": 500
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Expired verification code</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Please ask for verification again",
            "detail": "There is no active code for verifying this phone number.",
            "code": 404
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Wrong code</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Wrong code",
            "detail": "You have entered wrong verification code, please check your code again.",
            "code": 404
        }
    ]
}</code></pre>
<h1>Resend</h1>
<h2>Client</h2>
<p>Resend SMS for client</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/resend" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/resend",
    "method": "GET",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/resend</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "content": "SMS code re-sent successfully"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Already verified</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You are already verified",
            "detail": "You are verified, there is no need for verify again.",
            "code": 500
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Asked for resend less than 2 minutes ago</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You have requested for sms before",
            "detail": "You have asked for resending sms less than 2 minutes ago.",
            "code": 500
        }
    ]
}</code></pre>
<h2>Driver</h2>
<p>Resend SMS for driver</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/resend" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/resend",
    "method": "GET",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/resend</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "content": "SMS code re-sent successfully"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Already verified</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You are already verified",
            "detail": "You are verified, there is no need for verify again.",
            "code": 500
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Asked for resend less than 2 minutes ago</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You have requested for sms before",
            "detail": "You have asked for resending sms less than 2 minutes ago.",
            "code": 500
        }
    ]
}</code></pre>
<h1>Location</h1>
<h2>Client V1</h2>
<p>Set current location of client.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/location" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "lat"="neque" \
    -d "long"="neque" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/location",
    "method": "POST",
    "data": {
        "lat": "neque",
        "long": "neque",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/location</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>string</td>
<td>required</td>
</tr>
<tr>
<td>long</td>
<td>string</td>
<td>required</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
            {
                "latitude": "32.637724",
                "longitude": "51.682108",
                "name": "استان اصفهان، اصفهان، خیابان کمال اسماعیل، ایران",
                "user_id": 416,
                "updated_at": "2016-12-10 22:26:25",
                "created_at": "2016-12-10 22:26:25",
                "id": 418
            }
    ]
}
</code></pre>
<blockquote>
<p>Example response - missing parameter</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Driver V1</h2>
<p>Set current location of driver.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/location" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "lat"="atque" \
    -d "long"="atque" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/location",
    "method": "POST",
    "data": {
        "lat": "atque",
        "long": "atque",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/driver/location</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>string</td>
<td>required</td>
</tr>
<tr>
<td>long</td>
<td>string</td>
<td>required</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
            {
                "latitude": "32.637724",
                "longitude": "51.682108",
                "name": "استان اصفهان، اصفهان، خیابان کمال اسماعیل، ایران",
                "user_id": 416,
                "updated_at": "2016-12-10 22:26:25",
                "created_at": "2016-12-10 22:26:25",
                "id": 418,
                "status": 7
            }
    ]
}
</code></pre>
<blockquote>
<p>Example response - missing parameter</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Client V2</h2>
<p>Set current location of client. in <code>v2</code> of API you can send <code>lng</code> instead of <code>long</code></p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/client/location" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "lat"="neque" \
    -d "lng"="neque" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/client/location",
    "method": "POST",
    "data": {
        "lat": "neque",
        "lng": "neque",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v2/client/location</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>string</td>
<td>required</td>
</tr>
<tr>
<td>lng</td>
<td>string</td>
<td>required</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
            {
                "latitude": "32.637724",
                "longitude": "51.682108",
                "name": "استان اصفهان، اصفهان، خیابان کمال اسماعیل، ایران",
                "user_id": 416,
                "updated_at": "2016-12-10 22:26:25",
                "created_at": "2016-12-10 22:26:25",
                "id": 418
            }
    ]
}
</code></pre>
<blockquote>
<p>Example response - missing parameter</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Driver V2</h2>
<p>Set current location of driver. in <code>v2</code> of API you can send <code>lng</code> instead of <code>long</code></p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/driver/location" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "lat"="atque" \
    -d "lng"="atque" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/driver/location",
    "method": "POST",
    "data": {
        "lat": "atque",
        "lng": "atque",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v2/driver/location</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>string</td>
<td>required</td>
</tr>
<tr>
<td>lng</td>
<td>string</td>
<td>required</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
            {
                "latitude": "32.637724",
                "longitude": "51.682108",
                "name": "استان اصفهان، اصفهان، خیابان کمال اسماعیل، ایران",
                "user_id": 416,
                "updated_at": "2016-12-10 22:26:25",
                "created_at": "2016-12-10 22:26:25",
                "id": 418,
                "status": null
            }
    ]
}
</code></pre>
<blockquote>
<p>Example response - missing parameter</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h1>Car types</h1>
<h2>Get all</h2>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/car/types" \
-H "Accept: application/json"
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/car/types",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": []
}</code></pre>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "name": "Cheap",
            "icon": "http://localhost:8000/img/no-icon.png",
            "id": 11,
            "position": "5",
            "children": [
                {
                    "name": "sedans",
                    "icon": "http://localhost:8000/storage/car_types/icon/yNs95bIXvBxF06WT2WrctgdZs5VU4xvBHXOYlP32.png",
                    "id": 4,
                    "position": "0",
                    "parent_id": 11
                }
            ]
        },
        {
            "name": "woman",
            "icon": "http://localhost:8000/img/no-icon.png",
            "id": 10,
            "position": "2",
            "children": [
                {
                    "name": "luxury",
                    "icon": "http://localhost:8000/storage/car_types/icon/C6APml4f6X6KRkR5M1hBs9J73ti9xOjXDItgwcZa.png",
                    "id": 1,
                    "position": "0",
                    "parent_id": 10
                },
                {
                    "name": "economy",
                    "icon": "http://localhost:8000/storage/car_types/icon/TR4SxsohvTzEeNeKKaepO1Tj44MmxV5zAluzLIrb.png",
                    "id": 5,
                    "position": "0",
                    "parent_id": 10
                }
            ]
        },
        {
            "name": "High end",
            "icon": "http://localhost:8000/img/no-icon.png",
            "id": 12,
            "position": "1",
            "children": [
                {
                    "name": "sport",
                    "icon": "http://localhost:8000/storage/car_types/icon/vNbIzB3j55Ik4xMQu5fKAXtHZaC1GBBW8vlMHHrC.png",
                    "id": 3,
                    "position": "2",
                    "parent_id": 12
                }
            ]
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/car/types</code></p>
<h1>Profile</h1>
<h2>Client</h2>
<p>Get client profile data.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/profile" \
-H "Accept: application/json"
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/profile",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 1,
            "first_name": null,
            "last_name": null,
            "email": "amir@gmail.com",
            "gender": "not specified",
            "device_token": "kjlfajl",
            "device_type": "ios",
            "lock": false,
            "lang": "fa",
            "address": null,
            "state": null,
            "country": null,
            "zipcode": null,
            "picture": "http://92.222.150.222/saam/public/storage/profile/client/1c192ae561e6c5aa9dd29301728c95de.jpeg",
            "balance": 10,
            "user_id": 3,
            "created_at": "2016-12-25 11:43:19",
            "updated_at": "2016-12-25 11:45:16",
            "phone": "0987897582"
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/profile</code></p>
<h2>Balance</h2>
<p>Get client balance</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/balance" \
-H "Accept: application/json"
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/balance",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "balance": 100
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/balance</code></p>
<h2>Driver</h2>
<p>Get driver profile data.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/profile" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/profile",
    "method": "GET",
    "headers": {
       "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 1,
            "first_name": null,
            "last_name": null,
            "email": null,
            "gender": "not specified",
            "device_token": "kjlfajl",
            "device_type": "ios",
            "online": false,
            "approve": false,
            "available": false,
            "lang": "fa",
            "address": null,
            "state": "esfahan",
            "country": "iran",
            "zipcode": null,
            "picture": "http://92.222.150.222/saam/public/storage/profile/driver/1c192ae561e6c5aa9dd29301728c95de.jpeg",
            "user_id": 3,
            "created_at": "2016-12-25 11:46:36",
            "updated_at": "2016-12-25 11:46:36",
            "phone": "0987897582"
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/profile</code></p>
<h2>Update - Driver</h2>
<p>Update <code>driver</code> profile data. Returned image is croped 128 by 128 pixels from center.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/profile" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "picture"="et" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/profile",
    "method": "POST",
    "data": {
        "picture": "et"
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/driver/profile</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>picture</td>
<td>image</td>
<td>optional</td>
<td>Must be an image (jpeg, png, bmp, gif, or svg) Maximum: <code>512</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 102,
            "first_name": "Amirmasoud",
            "last_name": "Sheidayi",
            "email": "amirmasoud@mysite.com",
            "gender": "male",
            "device_token": "qqqqqqqq5",
            "device_type": "ios",
            "online": true,
            "approve": true,
            "available": true,
            "lang": "fa",
            "address": "Iran",
            "state": "Tehran",
            "country": "Iran",
            "zipcode": "123456",
            "picture": "http://92.222.150.222/saam/public/storage/profile/driver/1c192ae561e6c5aa9dd29301728c95de.jpeg",
            "user_id": 207,
            "created_at": "2017-01-15 06:56:04",
            "updated_at": "2017-01-15 12:41:36",
            "deleted_at": null,
            "phone": "098789000001"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation failed</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "status": 422
        }
    ]
}</code></pre>
<h2>Update - Client</h2>
<p>Update <code>client</code> profile data. Returned image is croped 128 by 128 pixels from center.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/profile" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
    -d "first_name"="et" \
    -d "last_name"="et" \
    -d "email"="et" \
    -d "gender"="male" \
    -d "lang"="fa" \
    -d "address"="et" \
    -d "state"="et" \
    -d "country"="et" \
    -d "zipcode"="2" \
    -d "picture"="et" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/profile",
    "method": "POST",
    "data": {
        "first_name": "et",
        "last_name": "et",
        "email": "et",
        "gender": "male",
        "lang": "fa",
        "address": "et",
        "state": "et",
        "country": "et",
        "zipcode": 2,
        "picture": "et"
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/profile</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>optional</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>optional</td>
<td>Maximum: <code>255</code></td>
</tr>
<tr>
<td>email</td>
<td>email</td>
<td>optional</td>
<td>Maximum: <code>255</code>, Minimum: <code>6</code>, <code>unique</code></td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>optional</td>
<td><code>male</code>, <code>female</code> or <code>not specified</code></td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>optional</td>
<td>Minimum: <code>3</code></td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>optional</td>
<td>Minimum: <code>2</code> Maximum: <code>255</code></td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>optional</td>
<td>Minimum: <code>2</code> Maximum: <code>255</code></td>
</tr>
<tr>
<td>zipcode</td>
<td>numeric</td>
<td>optional</td>
</tr>
<tr>
<td>picture</td>
<td>image</td>
<td>optional</td>
<td>Must be an image (jpeg, png, bmp, gif, or svg) Maximum: <code>512</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 1,
            "first_name": null,
            "last_name": null,
            "email": null,
            "gender": "not specified",
            "device_token": "kjlfajl",
            "device_type": "ios",
            "lock": false,
            "lang": "fa",
            "address": null,
            "state": null,
            "country": null,
            "zipcode": null,
            "picture": "no-profile.png",
            "balance": 10,
            "user_id": 1,
            "created_at": "2016-12-25 11:43:19",
            "updated_at": "2016-12-25 11:43:19",
            "phone": "0987897582"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation failed</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h1>Driver</h1>
<h2>Go online v1</h2>
<p>Make a driver online, when a driver goes online his/her availability will
set to true as well. An approved drvier can go to online mode.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/online" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/online",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "result": "Driver is online."
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - currently online</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Driver cannot go online",
            "detail": "You are currently online.",
            "code": 500
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/online</code></p>
<h2>Go online v2</h2>
<p>Make a driver online, when a driver goes online his/her availability will
set to true as well. An approved drvier can go to online mode.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/driver/online" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/driver/online",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Online",
            "detail": "You're online now."
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - onway driver</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Onway",
            "detail": "You're onway."
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v2/driver/online</code></p>
<h2>Go offline v1</h2>
<p>Make a driver offline, when a driver goes offline his/her availability will
set to false as well. An approved drvier can go to offline mode.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/offline" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/offline",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true
}</code></pre>
<blockquote>
<p>Example response - currently offline</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Driver cannot go offline",
            "detail": "An onway or currently online driver cannot go offline.",
            "code": 500
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/offline</code></p>
<h2>Go offline v2</h2>
<p>Make a driver offline, when a driver goes offline his/her availability will
set to false as well. An approved drvier can go to offline mode.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/driver/offline" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/driver/offline",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Offline",
            "detail": "You're offline now."
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - onway driver</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Onway",
            "detail": "You're onway."
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v2/driver/offline</code></p>
<h2>Get status v1</h2>
<p>Get status of the driver, Online or Offline</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/status" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/status",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response - Online driver</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "online": true
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Offline driver</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "online": false
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v2/driver/status</code></p>
<h2>Get status v2</h2>
<p>Get status of the driver, Online or Offline</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/status" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/driver/status",
    "method": "GET",
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response - Online driver</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Online",
            "detail": "You're online"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Offline driver</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Offline",
            "detail": "You're offline"
        }
    ]
}</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v2/driver/status</code></p>
<h1>Car</h1>
<h2>Info</h2>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/car/info" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/car/info",
    "method": "GET",
    "headers": {
         "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre><code class="language-json">null</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/car/info</code></p>
<h1>Trip - Client</h1>
<h2>Request v1</h2>
<p>Request new taxi by client</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/trip" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "s_lat": "maiores", \
   -d "s_long": "maiores", \
   -d "d_lat": "maiores", \
   -d "d_long": "maiores", \
   -d "type": "maiores", \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/trip",
    "method": "POST",
    "data": {
        "s_lat": "amet",
        "s_long": "amet",
        "d_lat": "amet",
        "d_long": "amet",
        "type": "amet",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/trip</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>s_lat</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>s_long</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>d_lat</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>d_long</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>type</td>
<td></td>
<td>optional</td>
<td>Children car types given by nearby</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "content": "Trip request created successfully, waiting for driver(s) to accept.",
            "eta_text": "8 mins",
            "eta_value": 500,
            "distance_text": "5.1 km",
            "distance_value": 5051,
            "trip_status": 2,
            "source_name": "استان تهران، تهران، بزرگراه شهید حقانی، ایران",
            "destination_name": "استان تهران، تهران، پل پارک وی، ایران"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Have pending request</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You have pending request",
            "detail": "Please address your pending trip request at first",
            "code": 500
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - cannot find distance</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Not valid trip",
            "detail": "You cannot trip there!"
        }
    ]
}
</code></pre>
<h2>Request v2</h2>
<p>Request new taxi by client. in <code>v2</code> of API you can send <code>s_lng</code> instead of <code>s_long</code> and
<code>d_lng</code> instead of <code>d_long</code></p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/client/trip" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "s_lat": "maiores", \
   -d "s_lng": "maiores", \
   -d "d_lat": "maiores", \
   -d "d_lng": "maiores", \
   -d "type": "maiores", \</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/client/trip",
    "method": "POST",
    "data": {
        "s_lat": "amet",
        "s_lng": "amet",
        "d_lat": "amet",
        "d_lng": "amet",
        "type": "amet",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v2/client/trip</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>s_lat</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>s_lng</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>d_lat</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>d_lng</td>
<td>numeric</td>
<td>required</td>
</tr>
<tr>
<td>type</td>
<td></td>
<td>optional</td>
<td>Children car types given by nearby</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "content": "Trip request created successfully, waiting for driver(s) to accept.",
            "eta_text": "8 mins",
            "eta_value": 500,
            "distance_text": "5.1 km",
            "distance_value": 5051,
            "trip_status": 2,
            "source_name": "استان تهران، تهران، بزرگراه شهید حقانی، ایران",
            "destination_name": "استان تهران، تهران، پل پارک وی، ایران"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Have pending request</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You have pending request",
            "detail": "Please address your pending trip request at first",
            "code": 500
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - cannot find distance</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Not valid trip",
            "detail": "You cannot trip there!"
        }
    ]
}
</code></pre>
<h2>Nearby taxis v1</h2>
<p>Find near by taxis</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/nearby" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "lat": "maiores", \
   -d "long": "maiores", \
   -d "distance": "maiores", \
   -d "limit": "maiores", \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/nearby",
    "method": "POST",
    "data": {
        "lat": "amet",
        "long": "amet",
        "distance": "amet",
        "limit": "amet",
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/nearby</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>numeric</td>
<td>required</td>
<td><code>(d+).(d+)</code></td>
</tr>
<tr>
<td>long</td>
<td>numeric</td>
<td>required</td>
<td><code>(d+).(d+)</code></td>
</tr>
<tr>
<td>distance</td>
<td>numeric</td>
<td>min: <code>1</code>, max: <code>5</code></td>
</tr>
<tr>
<td>limit</td>
<td>numeric</td>
<td>min: <code>5</code>, max: <code>100</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 20,
            "distance": "0.245001059497561",
            "longitude": "51.409909",
            "latitude": "35.757580",
            "name": "استان تهران، تهران، میدان ونک، 1517943413، ایران",
            "user_id": 3,
            "angle": 350
        },
        {
            "id": 4,
            "distance": "0.563525245388979",
            "longitude": "51.406401",
            "latitude": "35.757223",
            "name": "استان تهران، تهران، خیابان ملاصدرا، ایران",
            "user_id": 1,
            "angle": 12
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation fails</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Nearby taxis v2</h2>
<p>Find near by taxis. in <code>v2</code> of API you can send <code>lng</code> instead of <code>long</code>.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/client/nearby" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "lat": "maiores", \
   -d "lng": "maiores", \
   -d "distance": "maiores", \
   -d "limit": "maiores", \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/client/nearby",
    "method": "POST",
    "data": {
        "lat": "amet",
        "lng": "amet",
        "distance": "amet",
        "limit": "amet",
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v2/client/nearby</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>numeric</td>
<td>required</td>
<td><code>(d+).(d+)</code></td>
</tr>
<tr>
<td>lng</td>
<td>numeric</td>
<td>required</td>
<td><code>(d+).(d+)</code></td>
</tr>
<tr>
<td>distance</td>
<td>numeric</td>
<td>min: <code>1</code>, max: <code>5</code></td>
</tr>
<tr>
<td>limit</td>
<td>numeric</td>
<td>min: <code>5</code>, max: <code>100</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 7341,
            "distance": "2.27246822248217",
            "longitude": "51.366905",
            "latitude": "35.731209",
            "name": "NOT SET",
            "user_id": 856,
            "angle": 327
        },
        {
            "id": 9159,
            "distance": "2.39551047107605",
            "longitude": "51.417375",
            "latitude": "35.722071",
            "name": "NOT SET",
            "user_id": 474,
            "angle": 115
        },
        {
            "id": 4008,
            "distance": "3.14346537747125",
            "longitude": "51.424588",
            "latitude": "35.718066",
            "name": "NOT SET",
            "user_id": 423,
            "angle": 19
        },
        {
            "id": 4715,
            "distance": "3.31577013795581",
            "longitude": "51.409080",
            "latitude": "35.753119",
            "name": "NOT SET",
            "user_id": 430,
            "angle": 237
        },
        {
            "id": 3099,
            "distance": "3.37062995126478",
            "longitude": "51.422144",
            "latitude": "35.709585",
            "name": "NOT SET",
            "user_id": 414,
            "angle": 112
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation fails</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Nearby taxis v3</h2>
<p>Find near by taxis.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v3/client/nearby" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "lat": "maiores", \
   -d "lng": "maiores", \
   -d "distance": "maiores", \
   -d "limit": "maiores", \
   -d "type": "maiores", \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v3/client/nearby",
    "method": "POST",
    "data": {
        "lat": "amet",
        "lng": "amet",
        "distance": "amet",
        "limit": "amet",
        "type": "amet",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v3/client/nearby</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lat</td>
<td>numeric</td>
<td>required</td>
<td><code>(d+).(d+)</code></td>
</tr>
<tr>
<td>lng</td>
<td>numeric</td>
<td>required</td>
<td><code>(d+).(d+)</code></td>
</tr>
<tr>
<td>distance</td>
<td>numeric</td>
<td>min: <code>1</code>, max: <code>5</code></td>
</tr>
<tr>
<td>limit</td>
<td>numeric</td>
<td>min: <code>5</code>, max: <code>100</code></td>
</tr>
<tr>
<td>type</td>
<td>numeric</td>
<td>children ID</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "id": 7341,
            "distance": "2.27246822248217",
            "longitude": "51.366905",
            "latitude": "35.731209",
            "name": "NOT SET",
            "user_id": 856,
            "angle": 327,
            "cat_id": 1,
            "parent_id": 10,
            "parent_icon": "http://localhost:8000/img/no-icon.png"
        },
        {
            "id": 9159,
            "distance": "2.39551047107605",
            "longitude": "51.417375",
            "latitude": "35.722071",
            "name": "NOT SET",
            "user_id": 474,
            "angle": 115,
            "cat_id": 1,
            "parent_id": 10,
            "parent_icon": "http://localhost:8000/img/no-icon.png"
        },
        {
            "id": 4008,
            "distance": "3.14346537747125",
            "longitude": "51.424588",
            "latitude": "35.718066",
            "name": "NOT SET",
            "user_id": 423,
            "angle": 19,
            "cat_id": 1,
            "parent_id": 10,
            "parent_icon": "http://localhost:8000/img/no-icon.png"
        },
        {
            "id": 4715,
            "distance": "3.31577013795581",
            "longitude": "51.409080",
            "latitude": "35.753119",
            "name": "NOT SET",
            "user_id": 430,
            "angle": 237,
            "cat_id": 1,
            "parent_id": 10,
            "parent_icon": "http://localhost:8000/img/no-icon.png"
        },
        {
            "id": 3099,
            "distance": "3.37062995126478",
            "longitude": "51.422144",
            "latitude": "35.709585",
            "name": "NOT SET",
            "user_id": 414,
            "angle": 112,
            "cat_id": 1,
            "parent_id": 10,
            "parent_icon": "http://localhost:8000/img/no-icon.png"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Validation fails</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Current</h2>
<p>Current state of the client trip.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/trip" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/trip",
    "method": "GET",
    "data": {
},
    "headers": {
        "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/trip</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "paid": false,
            "payment": "to select",
            "driver": {
                "first_name": "Giuseppe",
                "last_name": "Ledner",
                "email": null,
                "gender": "not specified",
                "picture": "no-profile.png",
                "phone": "+3820566651175"
            },
            "trip": {
                "id": 337,
                "eta_value": "144914",
                "eta_text": "1 day 16 hours",
                "distance_value": "3086029",
                "distance_text": "3,086 km",
                "etd_value": "753",
                "etd_text": "13 mins",
                "driver_distance_value": "6299",
                "driver_distance_text": "6.3 km"
            },
            "status": {
                "name": "client_found",
                "value": 2
            },
            "car": {
                "number": "00000",
                "color": "black",
                "type_id": 1
            },
            "type": {
                "name": "luxury"
            },
            "source": {
                "latitude": "35.737758",
                "longitude": "51.481955",
                "name": "استان تهران، تهران، بزرگراه رسالت، ایران"
            },
            "destination": {
                "latitude": "51.650262",
                "longitude": "32.654306",
                "name": "Unnamed Road, Chernihivs'ka oblast, اوکراین"
            },
            "angle": 12,
            "driver_location": {
                "latitude": "35.714693",
                "longitude": "51.481892",
                "name": "NOT SET"
            },
            "total": "2886.8"
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - Not on an active trip</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Not on trip",
            "detail": "Not on an active trip right now",
            "code": 500
        }
    ]
}</code></pre>
<h2>Cancel taxi</h2>
<p>Cancel taxi by client.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/cancel" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/cancel",
    "method": "GET",
    "data": {
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/cancel</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Trip cancelled.",
            "detail": "Trip status changed from 2 to 10"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail to cancel</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You cannot do this.",
            "detail": "You cannot cancel your ride on this status.",
            "code": 500
        }
    ]
}
</code></pre>
<h2>Calculate V1</h2>
<p>Calculate trip fare(cost), distance and time. Take care of <code>NO RESULT</code> on source and destination.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/calculate" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "s_lat": "maiores", \
   -d "s_long": "maiores", \
   -d "d_lat": "maiores", \
   -d "d_long": "maiores", \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/calculate",
    "method": "POST",
    "data": {
        "s_lat": "amet",
        "s_long": "amet",
        "d_lat": "amet",
        "d_long": "amet",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/calculate</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>s_lat</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
<tr>
<td>s_long</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
<tr>
<td>d_lat</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
<tr>
<td>d_long</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "source": "NO RESULT",
            "destination": "Tehran Province, Tehran, Alami, ایران",
            "distance": {
                "text": "3 m",
                "value": 3
            },
            "duration": {
                "text": "1 min",
                "value": 1
            },
            "transactions": [
                {
                    "car_type": "luxury",
                    "car_type_id": 1,
                    "currency": "USD",
                    "entry": 2,
                    "distance": 3,
                    "per_distance": 0.7,
                    "distance_unit": "kilometer",
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0.3,
                    "time_unit": "minute",
                    "time_value": 0,
                    "surcharge": 1.1,
                    "timezone": "Asia/Tehran",
                    "total": 2.2
                },
                {
                    "car_type": "van",
                    "car_type_id": 2,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "sport",
                    "car_type_id": 3,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "sedans",
                    "car_type_id": 4,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "economy",
                    "car_type_id": 5,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "off-roader",
                    "car_type_id": 6,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "motorcycle",
                    "car_type_id": 7,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                }
            ]
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail to fetch data from Google Maps</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Failed",
            "detail": "Failed to intact with Google Maps",
            "code": 500
        }
    ]
}</code></pre>
<h2>Calculate V2</h2>
<p>Calculate trip fare(cost), distance and time. Take care of <code>NO RESULT</code> on source and destination. in <code>v2</code> of API
you can send <code>s_lng</code> instead of <code>s_long</code> and <code>d_lng</code> instead of <code>d_long</code>.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/client/calculate" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
   -d "s_lat": "maiores", \
   -d "s_lng": "maiores", \
   -d "d_lat": "maiores", \
   -d "d_lng": "maiores", \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/client/calculate",
    "method": "POST",
    "data": {
        "s_lat": "amet",
        "s_lng": "amet",
        "d_lat": "amet",
        "d_lng": "amet",
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v2/client/calculate</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>s_lat</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
<tr>
<td>s_lng</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
<tr>
<td>d_lat</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
<tr>
<td>d_lng</td>
<td>numeric</td>
<td>required</td>
<td>[+-]?\d+.\d+</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "source": "NO RESULT",
            "destination": "Tehran Province, Tehran, Alami, ایران",
            "distance": {
                "text": "3 m",
                "value": 3
            },
            "duration": {
                "text": "1 min",
                "value": 1
            },
            "transactions": [
                {
                    "car_type": "luxury",
                    "car_type_id": 1,
                    "currency": "USD",
                    "entry": 2,
                    "distance": 3,
                    "per_distance": 0.7,
                    "distance_unit": "kilometer",
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0.3,
                    "time_unit": "minute",
                    "time_value": 0,
                    "surcharge": 1.1,
                    "timezone": "Asia/Tehran",
                    "total": 2.2
                },
                {
                    "car_type": "van",
                    "car_type_id": 2,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "sport",
                    "car_type_id": 3,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "sedans",
                    "car_type_id": 4,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "economy",
                    "car_type_id": 5,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "off-roader",
                    "car_type_id": 6,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                },
                {
                    "car_type": "motorcycle",
                    "car_type_id": 7,
                    "currency": "USD",
                    "entry": 0,
                    "distance": 3,
                    "per_distance": 0,
                    "distance_unit": 0,
                    "distance_value": 0,
                    "time": 1,
                    "per_time": 0,
                    "time_unit": 0,
                    "time_value": 0,
                    "surcharge": 1,
                    "timezone": "Asia/Tehran",
                    "total": 0
                }
            ]
        }
    ]
}</code></pre>
<h1>Trip - driver</h1>
<h2>Accept ride</h2>
<p>Accept ride by driver.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/accept" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/accept",
    "method": "GET",
    "data": {
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/accept</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "You are onway.",
            "detail": "Trip status changed from 2 to 7"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail accept</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Fail",
            "detail": "You have no trip to start",
            "code": 500
        }
    ]
}
</code></pre>
<h2>Start ride</h2>
<p>Start the trip by the driver.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/start" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/start",
    "method": "GET",
    "data": {
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/start</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Trip started.",
            "detail": "Trip status changed from 2 to 6"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail start</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Wait",
            "detail": "You still do not have trip, please wait.",
            "code": 500
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - Fail start</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Fail",
            "detail": "You have no trip to start",
            "code": 500
        }
    ]
}
</code></pre>
<h2>End trip</h2>
<p>End the trip by the driver.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/end" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/end",
    "method": "GET",
    "data": {
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/end</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Trip ended.",
            "detail": "Trip status changed from 6 to 9"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail start</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Fail",
            "detail": "You have no trip to end or you cannot end trip now.",
            "code": 500
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - Trip has not been paid</p>
</blockquote>
<pre><code class="language-josn">{
    "success": true,
    "data": [
        {
            "title": "Trip ended.",
            "detail": "Trip status changed from 6 to 9, You can rate trip now."
        }
    ]
}</code></pre>
<h2>Cancel ride</h2>
<p>Cancel trip by driver.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/cancel" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/cancel",
    "method": "GET",
    "data": {
},
        "headers": {
    "accept": "application/json",
    "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/cancel</code></p>
<blockquote>
<p>Example response - trip cancelled</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Trip cancelled.",
            "detail": "Trip status changed from 6 to 8"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - trip rejected</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Trip rejected.",
            "detail": "Trip status changed from 2 to 4"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail to cancel</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You cannot do this.",
            "detail": "You cannot cancel your ride on this status.",
            "code": 500
        }
    ]
}
</code></pre>
<h2>Arrive</h2>
<p>When drive arrives at departure point.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/arrived" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/arrived",
    "method": "GET",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/arrived</code></p>
<blockquote>
<p>Example response - driver arrived</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Waiting for client.",
            "detail": "Trip status changed from 7 to 12."
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail to go on arrived status</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Fail",
            "detail": "You cannot got to this status from your current state",
            "code": 500
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - validation failed</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Current v1</h2>
<p>Current state of driver trip.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/trip" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/trip",
    "method": "GET",
    "data": {
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/trip</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "paid": false,
            "payment": "to select",
            "client": {
                "first_name": "amir",
                "last_name": "amiri",
                "gender": "not specified",
                "picture": "no-profile.png",
                "phone": "+0983832063488"
            },
            "trip": {
                "eta_value": "909",
                "eta_text": "15 mins",
                "distance_value": "14910",
                "distance_text": "14.9 km",
                "etd_value": "434",
                "etd_text": "7 mins",
                "driver_distance_value": "5602",
                "driver_distance_text": "5.6 km"
            },
            "status": {
                "name": "client_found",
                "value": 2
            },
            "source": {
                "latitude": "34.015588",
                "longitude": "51.363886",
                "name": "استان اصفهان، کاشان، بلوار علامه قطب راوندی، ایران"
            },
            "destination": {
                "latitude": "33.946671",
                "longitude": "51.373260",
                "name": "استان اصفهان، کاشان، خیابان امیرکبیر، ایران"
            },
            "total": "5.6"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Not on an active trip</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Not on trip",
            "detail": "Not on an active trip right now",
            "code": 500
        }
    ]
}
</code></pre>
<h2>Current v2</h2>
<p>Current state of driver trip.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v2/driver/trip" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v2/driver/trip",
    "method": "GET",
    "data": {
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v2/driver/trip</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "paid": true,
            "payment": "Cash",
            "client": {
                "first_name": "Unknown",
                "last_name": "Passenger",
                "gender": "not specified",
                "picture": "http://localhost:8000/img/no-profile.png",
                "phone": "989359999990"
            },
            "trip": {
                "id": 247,
                "eta_value": "17659",
                "eta_text": "4 hours 54 mins",
                "distance_value": "457814",
                "distance_text": "458 km",
                "etd_value": "598",
                "etd_text": "10 mins",
                "driver_distance_value": "4122",
                "driver_distance_text": "4.1 km"
            },
            "status": {
                "name": "driver_onway",
                "value": 7
            },
            "source": {
                "latitude": "35.726926",
                "longitude": "51.391521",
                "name": "استان تهران، تهران، کوچه حسین نیا ۱۲، ایران"
            },
            "destination": {
                "latitude": "32.621120",
                "longitude": "51.627184",
                "name": "استان اصفهان، اصفهان، خیابان نستوه، ایران"
            },
            "total": "22300000"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Not on an active trip</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Not on trip",
            "detail": "Not on an active trip right now"
        }
    ]
}</code></pre>
<h2>Income</h2>
<p>Get driver income.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/income" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/income",
    "method": "GET",
    "data": {
},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/income</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "income": "0"
        }
    ]
}</code></pre>
<h1>Rate</h1>
<h2>Driver</h2>
<p>Rate of driver to client.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/rate" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/rate",
    "method": "POST",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/driver/rate</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stars</td>
<td>numeric</td>
<td>required</td>
<td>float between <code>1.0</code> to <code>5.0</code></td>
</tr>
<tr>
<td>comment</td>
<td>text</td>
<td>optional</td>
<td>max: <code>5000</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Thanks for rating"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You cannot rate",
            "detail": "You cannot rate this trip",
            "code": 500
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - validation failed</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - validation failed</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h2>Client</h2>
<p>Rate of client to driver.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/rate" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/rate",
    "method": "POST",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>POST api/v1/client/rate</code></p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stars</td>
<td>numeric</td>
<td>required</td>
<td>float between <code>1.0</code> to <code>5.0</code></td>
</tr>
<tr>
<td>comment</td>
<td>text</td>
<td>optional</td>
<td>max: <code>5000</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Thanks for rating"
        }
    ]
}</code></pre>
<blockquote>
<p>Example response - Fail</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You cannot rate",
            "detail": "You cannot rate this trip",
            "code": 500
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - validation failed</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Validation failed",
            "detail": "Validation for given fields have been failed, please check your inputs.",
            "code": 422
        }
    ]
}</code></pre>
<h1>Payment</h1>
<p><img src="http://1.1m.yt/pmMfED.png" alt="Image of payment" /></p>
<h2>Charge</h2>
<p>Charge the wallet/balance with given ClientID and Amount. Client ID (id) can be fetched from <code>client/profile</code></p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/fa/payment/charge/{CLIENT_ID}/{AMOUNT}" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/fa/payment/charge/{CLIENT_ID}/{AMOUNT}",
    "method": "GET",
    "data": {}
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET http://flipapp.ir/payment/charge/{CLIENT_ID}/{AMOUNT}</code></p>
<h2>Pay cash</h2>
<p>Pay trip cost in cash. this shall be called by client. take note that this route is bind to <code>inTrip</code> and <code>notPaid</code> middlewares. keep in mind their responses as well. user cannot revert back to wallet.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/pay/cash" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/pay/cash",
    "method": "GET",
    "data": {}
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET http://flipapp.ir/api/v1/client/pay/cash</code></p>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Pay cash",
            "detail": "Please pay trip cost to the driver."
        }
    ]
}
</code></pre>
<h2>Pay wallet</h2>
<p>Pay trip cost by wallet. this shall be called by client. take note that this route is bind to <code>inTrip</code> and <code>notPaid</code> middlewares. keep in mind their responses as well. In case of not enough balance, user can switch to cash, still.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/pay/wallet" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/pay/wallet",
    "method": "GET",
    "data": {}
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET http://flipapp.ir/api/v1/client/pay/wallet</code></p>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "title": "Pay wallet",
            "detail": "Your trip paid with your wallet balance."
        }
    ]
}
</code></pre>
<blockquote>
<p>Example response - not enough balance</p>
</blockquote>
<pre><code class="language-json">
{
    "success": false,
    "data": [
        {
            "title": "Not enough balance",
            "detail": "You don't have enough balance in your wallet."
        }
    ]
}
</code></pre>
<h1>History</h1>
<h2>Client</h2>
<p>History of client trips.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/client/history" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/client/history",
    "method": "GET",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/client/history</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">
{
    "success": true,
    "data": [
        {
            "id": 7,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": []
        },
        {
            "id": 8,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": []
        },
        {
            "id": 9,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": []
        },
        {
            "id": 11,
            "status_name": "cancel_onway_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [
                {
                    "id": 7,
                    "trip_id": 11,
                    "car_type_id": 1,
                    "entry": "2",
                    "distance": "1289",
                    "per_distance": "0.7",
                    "distance_unit": "kilometer",
                    "distance_value": "0.9",
                    "time": "249",
                    "per_time": "0.3",
                    "time_unit": "minute",
                    "time_value": "1.2",
                    "surcharge": "1",
                    "currency": "USD",
                    "timezone": "Asia/Tehran",
                    "total": "4.1",
                    "created_at": "2017-02-15 12:18:07",
                    "updated_at": "2017-02-15 12:18:07"
                }
            ],
            "rate": [],
            "driver": [
                {
                    "id": 101,
                    "first_name": "Driver",
                    "last_name": "One",
                    "email": "one@email.com",
                    "gender": "male",
                    "device_token": "qqqqqqqq5",
                    "device_type": "ios",
                    "online": false,
                    "approve": true,
                    "available": false,
                    "lang": "fa",
                    "address": "Iran",
                    "state": "tehran",
                    "country": "iran",
                    "zipcode": "12345",
                    "picture": "no-profile.png",
                    "user_id": 207,
                    "created_at": "2017-02-14 14:47:57",
                    "updated_at": "2017-02-16 03:34:28",
                    "deleted_at": null,
                    "car": {
                        "number": "000000",
                        "color": "pink",
                        "type": "luxury"
                    },
                    "phone": "1"
                }
            ],
            "driver_location": [
                {
                    "name": "TEST",
                    "lat": "32.623239",
                    "long": "51.636149"
                }
            ]
        },
        {
            "id": 12,
            "status_name": "trip_is_over",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [
                {
                    "id": 8,
                    "trip_id": 12,
                    "car_type_id": 1,
                    "entry": "2",
                    "distance": "1289",
                    "per_distance": "0.7",
                    "distance_unit": "kilometer",
                    "distance_value": "0.9",
                    "time": "249",
                    "per_time": "0.3",
                    "time_unit": "minute",
                    "time_value": "1.2",
                    "surcharge": "1",
                    "currency": "USD",
                    "timezone": "Asia/Tehran",
                    "total": "4.1",
                    "created_at": "2017-02-15 14:38:43",
                    "updated_at": "2017-02-15 14:38:43"
                }
            ],
            "rate": [
                {
                    "client": "5",
                    "client_comment": "hello"
                }
            ],
            "driver": [
                {
                    "id": 101,
                    "first_name": "Driver",
                    "last_name": "One",
                    "email": "one@email.com",
                    "gender": "male",
                    "device_token": "qqqqqqqq5",
                    "device_type": "ios",
                    "online": false,
                    "approve": true,
                    "available": false,
                    "lang": "fa",
                    "address": "Iran",
                    "state": "tehran",
                    "country": "iran",
                    "zipcode": "12345",
                    "picture": "no-profile.png",
                    "user_id": 207,
                    "created_at": "2017-02-14 14:47:57",
                    "updated_at": "2017-02-16 03:34:28",
                    "deleted_at": null,
                    "car": {
                        "number": "000000",
                        "color": "pink",
                        "type": "luxury"
                    },
                    "phone": "1"
                }
            ],
            "driver_location": [
                {
                    "name": "TEST",
                    "lat": "32.623239",
                    "long": "51.636149"
                }
            ]
        },
        {
            "id": 15,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": [],
            "driver_location": [
                {
                    "name": "TEST",
                    "lat": "32.623239",
                    "long": "51.636149"
                }
            ]
        },
        {
            "id": 16,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": [],
            "driver_location": [
                {
                    "name": "TEST",
                    "lat": "32.623239",
                    "long": "51.636149"
                }
            ]
        },
        {
            "id": 19,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": [],
            "driver_location": [
                {
                    "name": "TEST",
                    "lat": "32.623239",
                    "long": "51.636149"
                }
            ]
        },
        {
            "id": 20,
            "status_name": "no_driver",
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": [],
            "rate": [],
            "driver": [],
            "driver_location": [
                {
                    "name": "TEST",
                    "lat": "32.623239",
                    "long": "51.636149"
                }
            ]
        }
    ]
}
</code></pre>
<h2>Driver</h2>
<p>History of driver trips.</p>
<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="language-bash">curl "http://flipapp.ir/api/v1/driver/history" \
-H "Accept: application/json" \
-H "Authorization: Bearer ACCESS_TOKEN" \
</code></pre>
<pre><code class="language-javascript">var settings = {
    "async": true,
    "crossDomain": true,
    "url": "http://flipapp.ir/api/v1/driver/history",
    "method": "GET",
    "data": {},
    "headers": {
        "accept": "application/json",
        "authorization": "Bearer ACCESS_TOKEN"
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});</code></pre>
<h3>HTTP Request</h3>
<p><code>GET api/v1/driver/history</code></p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": true,
    "data": [
        {
            "status_id": 17,
            "source": "استان اصفهان، اصفهان، بلوار کشاورز، ایران",
            "destination": "استان اصفهان، اصفهان، چهارراه مارنان، ایران",
            "eta_value": "249",
            "eta_text": "4 mins",
            "distance_value": "1289",
            "distance_text": "1.3 km",
            "etd_value": "0",
            "etd_text": "1 min",
            "driver_location": {
                "id": 20204,
                "latitude": "32.623239",
                "longitude": "51.636149",
                "name": "TEST",
                "user_id": 207,
                "created_at": "2017-02-14 14:58:34",
                "updated_at": "2017-02-14 14:58:34"
            },
            "driver_distance_value": "0",
            "driver_distance_text": "1 m",
            "created_at": "2017-02-15 14:38:32",
            "status_name": "trip_is_over",
            "s_lat": "32.623239",
            "s_long": "51.636149",
            "d_lat": "32.634100",
            "d_long": "51.639282",
            "transaction": {
                "id": 8,
                "trip_id": 12,
                "car_type_id": 1,
                "entry": "2",
                "distance": "1289",
                "per_distance": "0.7",
                "distance_unit": "kilometer",
                "distance_value": "0.9",
                "time": "249",
                "per_time": "0.3",
                "time_unit": "minute",
                "time_value": "1.2",
                "surcharge": "1",
                "currency": "USD",
                "timezone": "Asia/Tehran",
                "total": "4.1",
                "created_at": "2017-02-15 14:38:43",
                "updated_at": "2017-02-15 14:38:43"
            },
            "rate": {
                "id": 1,
                "client": "5",
                "driver": "4.5",
                "client_comment": "hello",
                "driver_comment": "hello",
                "trip_id": 12,
                "created_at": "2017-02-15 14:39:28",
                "updated_at": "2017-02-15 14:39:28"
            }
        }
    ]
}</code></pre>
<h1>Middleware</h1>
<h2>Authenticate</h2>
<p>Authorize the access token for continue using protected routes. Given on <code>Authorization</code> header.</p>
<blockquote>
<p>Example response - on failed authenticate</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "You are not authorized to access",
            "detail": "You're not authorized to access this route of the application, please check your token privileges.",
            "code": 401
        }
    ]
}</code></pre>
<h2>Check approve driver</h2>
<p>Check if the current driver is an approved driver to go online.</p>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title":  "Not an approved driver",
            "detail": "You should contact your area call center to begin approving proccess.",
            "code": 401
        }
    ]
}</code></pre>
<h2>Check role</h2>
<p>Client access token and driver access token are different and a client cannot access routes of drivers with his/her access token and vice versa.</p>
<blockquote>
<p>Example response - using driver access token to get response form client routs</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title"  : "You are not authorized to access",
            "detail" : "You're not authorized to access this route of the application, please check your token privileges.",
            "code": 401
        }
    ]
}</code></pre>
<h2>Check verified user</h2>
<p>Check if the current user(driver or client) has verified phone number.</p>
<blockquote>
<p>Example response - not verified</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title"  : "Not a verified user",
            "detail" : "You should verify your phone number first.",
            "code": 401
        }
    ]
}</code></pre>
<h2>Check online driver</h2>
<p>Check if the current driver is online.</p>
<blockquote>
<p>Example response - not online (offline)</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title"  : "Not an online driver",
            "detail" : "You should go online first.",
            "code": 401
        }
    ]
}</code></pre>
<h2>Check driver car</h2>
<p>Check if the current driver has a registered car.</p>
<blockquote>
<p>Example response - does not own a car</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "No car",
            "detail": "You should contact your area call center to register your car.",
            "code": 401
        }
    ]
}
</code></pre>
<h2>Check POST size</h2>
<p>Check the max POST content size. in case of failure:</p>
<blockquote>
<p>Exceed POST content size</p>
</blockquote>
<pre><code class="language-json">{
  "success": false,
  "data": [
    {
      "title": "Exceed file size",
      "detail": "Post size exceed allowed size",
      "code": 500
    }
  ]
}</code></pre>
<h2>In trip</h2>
<p>Check if the user is in a trip.
if not:</p>
<pre><code class="language-json">{
  "success": false,
  "data": [
    {
      "title": "Not on trip",
      "detail": "Not on an active trip right now",
      "code": 500
    }
  ]
}</code></pre>
<h2>Paid or can't change</h2>
<p>Payment record is already been paid or choose something else and now cannot be modified.</p>
<pre><code class="language-json">
{
    "success": false,
    "data": [
        {
            "title": "You already paid",
            "detail": "You paid your trip cost or cannot change payment method"
        }
    ]
}
</code></pre>
<h1>Errors</h1>
<h2>404</h2>
<p>Requested route is not registered within the app.</p>
<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="language-json">{
    "success": false,
    "data": [
        {
            "title": "Not found",
            "detail": "Requested route not found",
            "code": 404
        }
    ]
}
</code></pre>
<h1>State Diag.</h1>
<h2>Driver state diagram</h2>
<p>States that a driver can go to.</p>
<p><img src="http://sl.uploads.im/d/wPNeh.png" alt="Image of driver state diagram" /></p>
<h2>Client state diagram</h2>
<p>States that a client can go to.</p>
<p><img src="http://sl.uploads.im/d/y3S57.png" alt="Image of client state diagram" /></p><h1>Trip status</h1>
<table>
<thead>
<tr>
<th>Value</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>request_taxi</code></td>
</tr>
<tr>
<td>2</td>
<td><code>client_found</code></td>
</tr>
<tr>
<td>3</td>
<td><code>no_response</code></td>
</tr>
<tr>
<td>4</td>
<td><code>reject_client_found</code></td>
</tr>
<tr>
<td>5</td>
<td><code>no_driver</code></td>
</tr>
<tr>
<td>6</td>
<td><code>trip_started</code></td>
</tr>
<tr>
<td>7</td>
<td><code>driver_onway</code></td>
</tr>
<tr>
<td>8</td>
<td><code>driver_reject_started_trip</code></td>
</tr>
<tr>
<td>9</td>
<td><code>trip_ended</code></td>
</tr>
<tr>
<td>10</td>
<td><code>cancel_request_taxi</code></td>
</tr>
<tr>
<td>11</td>
<td><code>cancel_onway_driver</code></td>
</tr>
<tr>
<td>12</td>
<td><code>driver_arrived</code></td>
</tr>
<tr>
<td>13</td>
<td><code>client_canceled_arrived_driver</code></td>
</tr>
<tr>
<td>14</td>
<td><code>driver_cancel_arrived_status</code></td>
</tr>
<tr>
<td>15</td>
<td><code>driver_rated</code></td>
</tr>
<tr>
<td>16</td>
<td><code>client_rated</code></td>
</tr>
<tr>
<td>17</td>
<td><code>trip_is_over</code></td>
</tr>
<tr>
<td>18</td>
<td><code>trip_is_over_by_admin</code></td>
</tr>
</tbody>
</table><h1>FCM</h1>
<table>
<thead>
<tr>
<th>KEY</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td>SENDER_ID</td>
<td>377168109144</td>
</tr>
</tbody>
</table>
<h2>Logout</h2>
<h3>Driver</h3>
<p><img src="http://1.1m.yt/O2gCKqR.png" alt="Image of Logout" /></p>
<h3>Client</h3>
<p><img src="http://1.1m.yt/4LPd5Cq.png" alt="Image of Logout" /></p>
<h2>Codes</h2>
<h3>Client</h3>
<table>
<thead>
<tr>
<th>Body</th>
<th>Header</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td><code>wait_for_driver_to_accept_ride</code></td>
</tr>
<tr>
<td>1</td>
<td><code>no_driver_found</code></td>
</tr>
<tr>
<td>2</td>
<td><code>started_trip_cancelled_by_driver</code></td>
</tr>
<tr>
<td>3</td>
<td><code>new_clinet_cancelled_by_driver</code></td>
</tr>
<tr>
<td>4</td>
<td><code>arrived_driver_cancelled_trip</code></td>
</tr>
<tr>
<td>5</td>
<td><code>driver_onway</code></td>
</tr>
<tr>
<td>6</td>
<td><code>trip_started</code></td>
</tr>
<tr>
<td>7</td>
<td><code>trip_ended</code></td>
</tr>
<tr>
<td>8</td>
<td><code>driver_arrived</code></td>
</tr>
<tr>
<td>9</td>
<td><code>trip_is_over_by_admin</code></td>
</tr>
<tr>
<td>10</td>
<td><code>balance_updated</code></td>
</tr>
<tr>
<td>11</td>
<td><code>balance_failed_to_update</code></td>
</tr>
<tr>
<td>12</td>
<td><code>logout</code></td>
</tr>
</tbody>
</table>
<h3>Driver</h3>
<table>
<thead>
<tr>
<th>Body</th>
<th>Header</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td><code>new_client_found</code></td>
</tr>
<tr>
<td>1</td>
<td><code>trip_cancelled_by_client</code></td>
</tr>
<tr>
<td>2</td>
<td><code>client_cancelled_onway_driver</code></td>
</tr>
<tr>
<td>3</td>
<td><code>client_canceled_arrived_driver</code></td>
</tr>
<tr>
<td>4</td>
<td><code>no_reponse_going_offline</code></td>
</tr>
<tr>
<td>5</td>
<td><code>trip_is_over_by_admin</code></td>
</tr>
<tr>
<td>6</td>
<td><code>pay_cash</code></td>
</tr>
<tr>
<td>7</td>
<td><code>pay_wallet</code></td>
</tr>
<tr>
<td>8</td>
<td><code>logout</code></td>
</tr>
<tr>
<td>9</td>
<td><code>driver_approved_by_admin</code></td>
</tr>
<tr>
<td>10</td>
<td><code>driver_disapproved_by_admin</code></td>
</tr>
</tbody>
</table>
<h2>Pusher</h2>
<table>
<thead>
<tr>
<th>Body</th>
<th>Header</th>
</tr>
</thead>
<tbody>
<tr>
<td>Channel name</td>
<td><code>private-User.</code> + {UserID} Ex. <code>private-User.12</code></td>
</tr>
<tr>
<td>Event</td>
<td><code>StateChanged</code></td>
</tr>
<tr>
<td>Auth endpoint</td>
<td><code>http://flipapp.ir/broadcasting/auth</code></td>
</tr>
<tr>
<td>data</td>
<td>{&quot;team&quot;: 'pay_wallet', &quot;message&quot;: '7'}`</td>
</tr>
</tbody>
</table>
<p><code>user_id</code> exists in the GET <code>client/profile</code> or GET <code>driver/profile</code></p>
      </div>
      <div class="dark-box">
                        <div class="lang-selector">
                                    <a href="#" data-language-name="bash">bash</a>
                                    <a href="#" data-language-name="javascript">javascript</a>
                              </div>
                </div>
    </div>
  </body>
</html>